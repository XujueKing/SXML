<!-- 声明式风格的登录页面 -->
<view class="lang-switch">
    <label for="langSelect" class="visually-hidden" data-i18n-aria-label="ui.langSelect">Language Selection</label>
    <picker id="langSelect" bindchange="changeLang" mode="selector" data-lang-selector="true">
        <!-- 语言选择器：永远显示原生名称，不受翻译影响 -->
        <option value="en-US">English</option>
        <option value="zh-CN">中文</option>
    </picker>
</view>
<view class="mainpage">
    <view class="H">
        <image src="../../images/logo1.png" class="logo-header" alt="{{APP_NAME}}" data-i18n-alt="app.name" mode="aspectFit" />
        <text class="T1" data-i18n="header.titleHtml" data-i18n-html="true"></text>
    </view>
    <view class="H">
        <view class="canvas_style" id="canvasId" s:show="{{keyStatus && codeStatus}}"></view>
        <label for="u" class="visually-hidden">Account / Mobile / Email</label>
        <input id="u" s:show="{{!codeStatus}}" name="u" type="text" placeholder="Enter mobile/username/email" data-i18n-placeholder="login.placeholder.account" bindfocus="u_onfocus" bindblur="u_onblur" class="ime" />
        <label for="p" class="visually-hidden">Password</label>
        <input id="p" s:show="{{!codeStatus}}" name="p" type="password" placeholder="Please enter the password" data-i18n-placeholder="login.placeholder.password" bindfocus="u_onfocus" bindblur="u_onblur" bindkeydown="login_onkeydown" class="inputX" />
        <label for="k" class="visually-hidden">Digital Key</label>
        <input id="k" s:show="{{!keyStatus}}" name="k" type="password" placeholder="digital key（Key）" data-i18n-placeholder="login.placeholder.key" maxlength="32" bindfocus="u_onfocus" bindblur="u_onblur" class="inputX" />
        <svg id="l" class="lockIcon" viewBox="0 0 1024 1024" bindtap="d_lock" s:show="{{keyStatus}}">
            <path d="M 512 88.704 L 149.312 239.424 v 225.088 c 0 54.528 9.536 107.328 28.672 158.72 a 516.48 516.48 0 0 0 202.24 253.696 A 460.8 460.8 0 0 0 512 936.256 a 460.928 460.928 0 0 0 131.712 -59.2 a 517.504 517.504 0 0 0 202.304 -253.76 a 451.52 451.52 0 0 0 28.672 -158.72 V 239.424 L 512 88.704 Z m 448 122.24 v 253.568 c 0 64.64 -11.328 127.424 -33.92 188.352 a 602.368 602.368 0 0 1 -235.52 295.36 A 548.544 548.544 0 0 1 512 1024 a 548.416 548.416 0 0 1 -178.56 -75.776 A 601.664 601.664 0 0 1 97.92 652.8 A 536.192 536.192 0 0 1 64 464.512 V 211.008 c 0 -17.28 10.368 -32.768 26.24 -39.36 L 495.68 3.328 a 42.752 42.752 0 0 1 32.768 0 l 405.312 168.32 c 15.936 6.592 26.304 22.144 26.304 39.36 Z M 460.8 564.416 L 699.712 320 L 768 389.76 L 460.8 704 L 256 494.528 l 68.288 -69.76 L 460.8 564.288 Z"></path>
        </svg>
        <view id="l2" class="T3" s:show="{{keyStatus}}" data-i18n="login.key.installed">
            The current device has installed a secure encryption key. Click to log out and reload.
        </view>
    </view>
    <view class="H H1 {{codeStatus?'HB2':''}}" id="bottomStyle">
    <button bindtap="loginEvent" id="but" data-i18n="login.button" s:show="{{!codeStatus}}">LOGIN</button>
        <view class="T2">Copyright Reserved © Rainbow Haruko 2026</view>
        <view class="T2 Top">WEB 3.0 DEX SYSTEM</view>
    </view>
    <svg id="b_code" class="barcode" viewBox="0 0 75 75" bindtap="showQRCode" s:show="{{keyStatus && !codeStatus}}">
        <path d="M67.875,68.125 L73.749999,68.125 73.749999,74 67.875,74 z M54.5,68.125 L60.375,68.125 60.375,74 54.5,74 z M14,54 L20.5,54 20.5,60.5 14,60.5 z M7,47 L7,67.5 27.5,67.5 27.5,47 z M41,40.625 L60.5,40.625 60.5,53.75 67.375,53.75 67.375,40.875 74.25,40.875 74.25,60.875 54.125,60.875 54.125,47.375 47.125,47.375 47.125,74.25 41,74.25 z M0.5,40.5 L34,40.5 34,74 0.5,74 z M54,14 L60.5,14 60.5,20.5 54,20.5 z M14,14 L20.5,14 20.5,20.5 14,20.5 z M47,7 L47,27.5 67.5,27.5 67.5,7 z M7,7 L7,27.5 27.5,27.5 27.5,7 z M40.5,0.5 L74,0.5 74,34 40.5,34 z M0.5,0.5 L34,0.5 34,34 0.5,34 z"></path>
    </svg>
    <svg id="b_code2" class="barcode" viewBox="0 0 1024 1024" bindtap="showMenu" s:show="{{keyStatus && codeStatus}}">
        <path d="M 147.012 430.89 c -44.791 0 -81.109 36.305 -81.109 81.11 c 0 44.779 36.317 81.108 81.109 81.108 c 44.792 0 81.109 -36.33 81.109 -81.108 c 0 -44.805 -36.316 -81.11 -81.11 -81.11 Z m 364.987 0 c -44.79 0 -81.108 36.305 -81.108 81.11 c 0 44.779 36.316 81.108 81.108 81.108 c 44.793 0 81.11 -36.33 81.11 -81.108 c 0 -44.805 -36.317 -81.11 -81.11 -81.11 Z m 364.988 0 c -44.79 0 -81.108 36.305 -81.108 81.11 c 0 44.779 36.316 81.108 81.108 81.108 s 81.109 -36.33 81.109 -81.108 c -0.002 -44.805 -36.318 -81.11 -81.109 -81.11 Z"></path>
    </svg>
    <image id="b_code3" src="../../images/witeCode.png" class="barcode2" bindtap="enterCode" s:show="{{keyStatus}}" alt="QR code login" data-i18n-alt="login.alt.qrcode" />
</view>